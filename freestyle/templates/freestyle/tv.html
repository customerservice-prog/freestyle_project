{% load static %}
<!doctype html>
<html lang="en" data-channel="{{ channel_slug|default:'main' }}">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Freestyle TV</title>

  <link rel="icon" href="{% static 'freestyle/logo.png' %}">
  <link rel="stylesheet" href="{% static 'freestyle/tv.css' %}">
</head>

<body>
  <div class="tv-root">

    <nav class="tv-nav">
      <a class="tv-pill" href="{% url 'freestyle_submit' %}">Submit</a>
      <a class="tv-pill" href="{% url 'admin:index' %}">Manage (staff)</a>
      <a class="tv-pill" href="{% url 'freestyle_creator' %}">Creator</a>
    </nav>

    <video
      id="tvVideo"
      class="tv-video"
      autoplay
      muted
      playsinline
      preload="auto"
    ></video>

    <!-- LOGO TOP-RIGHT -->
    <img
      id="tvLogo"
      class="tv-logo"
      src="{% static 'freestyle/logo.png' %}"
      alt="Logo"
      loading="eager"
      decoding="async"
    />

    <div id="topBanner" class="tv-banner is-hidden">
      <div class="live-badge">LIVE</div>
      <div id="bannerTitle" class="title"></div>
    </div>

    <div id="viewersPill" class="viewers-pill is-hidden">
      <div class="eye">ğŸ‘</div>
      <div id="viewersCount" class="count">1</div>
      <div class="label">watching</div>
    </div>

    <!-- Volume Bottom-Left -->
    <div id="volumePill" class="volume-pill">
      <button id="muteBtn" class="vol-btn" type="button" aria-label="Mute/unmute">ğŸ”‡</button>
      <input id="volSlider" class="vol-slider" type="range" min="0" max="100" value="100" />
      <div id="volPct" class="vol-pct">100%</div>
    </div>

    <button id="chatOpenBtn" class="chat-open-btn is-hidden" type="button">ğŸ’¬ Live Chat</button>

    <section id="chatPanel" class="chat-panel">
      <header class="chat-header">
        <div class="title">LIVE CHAT</div>
        <div class="right">
          <div>Guest</div>
          <button id="chatCloseBtn" class="chat-close" type="button" aria-label="Close chat">âœ•</button>
        </div>
      </header>

      <div class="chat-actions">
        <div class="vote-btn">ğŸ”¥ <span id="fireCount">0</span></div>
        <div class="vote-btn">ğŸš« <span id="nahCount">0</span></div>
        <div style="margin-left:auto;font-size:12px;opacity:.8;">Vote once per video</div>
      </div>

      <div class="chat-body" id="chatBody">Guest:</div>

      <footer class="chat-footer">
        <input class="chat-input" placeholder="Say something..." />
        <button class="chat-send" type="button">Send</button>
      </footer>
    </section>

    <div id="adBar" class="ad-bar is-hidden">
      <div class="ad-left">
        <div class="ad-badge">AD</div>
        <div class="ad-text">
          <div class="ad-title">Your Sponsor Here</div>
          <div class="ad-sub">Book promos, banners, and placements â€” contact us.</div>
        </div>
      </div>
      <button id="adClose" class="ad-close" type="button" aria-label="Close ad">âœ•</button>
    </div>

    <!-- ENTER OVERLAY (FULL TERMS SUMMARY) -->
    <div id="enterOverlay" class="enter-overlay is-hidden">
      <div class="enter-card">
        <h2>Tap to Enter</h2>
        <p>Confirm you agree to our Terms before entering.</p>

        <div class="enter-terms">
          <strong>Terms Summary (example)</strong>
          <ul>
            <li>You confirm you have rights to upload content.</li>
            <li>You grant us a worldwide, royalty-free license to host, stream, promote, and monetize it.</li>
            <li>No illegal or infringing uploads.</li>
            <li>We may remove content at any time.</li>
          </ul>

          <a class="enter-link" href="/terms" target="_blank" rel="noopener">Terms</a>
          <span class="enter-dot">â€¢</span>
          <a class="enter-link" href="/privacy" target="_blank" rel="noopener">Privacy</a>
        </div>

        <label class="enter-row">
          <input id="enterAgree" type="checkbox" />
          <span>I agree to the Terms, Privacy, and Content Policy.</span>
        </label>

        <button id="enterBtn" class="enter-btn is-disabled" type="button" disabled>
          Enter (Enable Audio)
        </button>

        <div class="enter-note">(Live TV keeps running. This only unlocks audio.)</div>
      </div>
    </div>

  </div>

  <script src="{% static 'freestyle/tv.js' %}"></script>
</body>
</html>
